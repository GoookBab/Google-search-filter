<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Google ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„±ê¸°</title>
  <style>
    :root {
      --bg-color: #ffffff;
      --text-color: #000000;
      --input-bg: #ffffff;
      --input-border: #000000;
      --button-bg: #000000;
      --button-text: #ffffff;
      --container-bg: #ffffff;
      --border-color: #000000;
      --link-color: #000000;
    }

    body.dark {
      --bg-color: #000000;
      --text-color: #ffffff;
      --input-bg: #000000;
      --input-border: #ffffff;
      --button-bg: #ffffff;
      --button-text: #000000;
      --container-bg: #000000;
      --border-color: #ffffff;
      --link-color: #ffffff;
    }

    body {
      background-color: var(--bg-color);
      color: var(--text-color);
      font-family: Arial, sans-serif;
      padding: 40px;
      margin: 0;
      transition: background-color 0.3s, color 0.3s;
    }

    .container {
      max-width: 600px;
      margin: auto;
      background: var(--container-bg);
      padding: 30px;
      border-radius: 12px;
      border: 1px solid var(--border-color);
      position: relative;
    }

    .header-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    h2 {
      margin: 0;
      font-size: 1.5em;
    }

    label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
      margin-top: 15px;
    }

    input[type="text"],
    input[type="date"] {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--input-border);
      border-radius: 4px;
      font-size: 14px;
      background-color: var(--input-bg);
      color: var(--text-color);
      box-sizing: border-box;
    }

    #site-options .category {
      border: 1px solid var(--border-color);
      border-radius: 6px;
      margin-top: 10px;
    }

    .category summary {
      font-weight: bold;
      padding: 10px;
      cursor: pointer;
    }

    .category label {
      display: inline-block;
      margin: 5px 10px;
      font-size: 14px;
      cursor: pointer;
    }

    button {
      display: block;
      width: 100%;
      margin-top: 25px;
      padding: 12px;
      background-color: var(--button-bg);
      color: var(--button-text);
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      opacity: 0.9;
    }

    #result {
      margin-top: 30px;
      word-break: break-word;
    }

    a {
      color: var(--link-color);
      text-decoration: underline;
    }

    .theme-toggle-label {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
      font-size: 13px;
    }

    .theme-toggle-input {
      appearance: none;
      position: relative;
      border: 2px solid gray;
      border-radius: 1.25em;
      width: 2.25em;
      height: 1.25em;
    }

    .theme-toggle-input::before {
      content: "";
      position: absolute;
      left: 0;
      width: 1em;
      height: 1em;
      border-radius: 50%;
      transform: scale(0.8);
      background-color: gray;
      transition: left 250ms linear;
    }

    .theme-toggle-input:checked {
      background-color: tomato;
      border-color: tomato;
    }

    .theme-toggle-input:checked::before {
      background-color: white;
      left: 1em;
    }

    .theme-toggle-input:focus-visible {
      outline: 2px solid tomato;
      outline-offset: 2px;
    }

    .theme-toggle-input:hover {
      box-shadow: 0 0 0 4px lightgray;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header-row">
      <h2>ğŸ” Google ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„±ê¸°</h2>
      <label class="theme-toggle-label">
        <input type="checkbox" id="theme-switch" class="theme-toggle-input">
        ë‹¤í¬ëª¨ë“œ
      </label>
    </div>

    <label>ê²€ìƒ‰ì–´:</label>
    <input type="text" id="keyword">

    <label>ì œëª©ì— í¬í•¨í•  ë‹¨ì–´ (intitle):</label>
    <input type="text" id="intitle">

    <label>ì‚¬ì´íŠ¸ ì œí•œ (ë‹¤ì¤‘ ì„ íƒ):</label>
    <div id="site-options">
      <details class="category" open>
        <summary>ì¢…í•© ì¼ê°„ì§€</summary>
        <label><input type="checkbox" name="site" value="site:chosun.com"> ì¡°ì„ ì¼ë³´</label>
        <label><input type="checkbox" name="site" value="site:joongang.co.kr"> ì¤‘ì•™ì¼ë³´</label>
        <label><input type="checkbox" name="site" value="site:donga.com"> ë™ì•„ì¼ë³´</label>
        <label><input type="checkbox" name="site" value="site:hani.co.kr"> í•œê²¨ë ˆ</label>
        <label><input type="checkbox" name="site" value="site:khan.co.kr"> ê²½í–¥ì‹ ë¬¸</label>
        <label><input type="checkbox" name="site" value="site:hankookilbo.com"> í•œêµ­ì¼ë³´</label>
        <label><input type="checkbox" name="site" value="site:seoul.co.kr"> ì„œìš¸ì‹ ë¬¸</label>
      </details>
      <details class="category">
        <summary>ê²½ì œì§€</summary>
        <label><input type="checkbox" name="site" value="site:mk.co.kr"> ë§¤ì¼ê²½ì œ</label>
        <label><input type="checkbox" name="site" value="site:hankyung.com"> í•œêµ­ê²½ì œ</label>
        <label><input type="checkbox" name="site" value="site:sedaily.com"> ì„œìš¸ê²½ì œ</label>
        <label><input type="checkbox" name="site" value="site:asiae.co.kr"> ì•„ì‹œì•„ê²½ì œ</label>
        <label><input type="checkbox" name="site" value="site:fnnews.com"> íŒŒì´ë‚¸ì…œë‰´ìŠ¤</label>
      </details>
      <details class="category">
        <summary>ë°©ì†¡ì‚¬ ë‰´ìŠ¤</summary>
        <label><input type="checkbox" name="site" value="site:news.kbs.co.kr"> KBS</label>
        <label><input type="checkbox" name="site" value="site:imnews.imbc.com"> MBC</label>
        <label><input type="checkbox" name="site" value="site:news.sbs.co.kr"> SBS</label>
        <label><input type="checkbox" name="site" value="site:news.jtbc.co.kr"> JTBC</label>
        <label><input type="checkbox" name="site" value="site:ytn.co.kr"> YTN</label>
        <label><input type="checkbox" name="site" value="site:yonhapnewstv.co.kr"> ì—°í•©ë‰´ìŠ¤TV</label>
      </details>
      <details class="category">
        <summary>ë””ì§€í„¸/íƒì‚¬ ì–¸ë¡ </summary>
        <label><input type="checkbox" name="site" value="site:ohmynews.com"> ì˜¤ë§ˆì´ë‰´ìŠ¤</label>
        <label><input type="checkbox" name="site" value="site:pressian.com"> í”„ë ˆì‹œì•ˆ</label>
        <label><input type="checkbox" name="site" value="site:newstapa.org"> ë‰´ìŠ¤íƒ€íŒŒ</label>
        <label><input type="checkbox" name="site" value="site:mediatoday.co.kr"> ë¯¸ë””ì–´ì˜¤ëŠ˜</label>
        <label><input type="checkbox" name="site" value="site:zdnet.co.kr"> ZDNet Korea</label>
      </details>
      <details class="category">
        <summary>ê³µê³µê¸°ê´€/í†µì‹ ì‚¬</summary>
        <label><input type="checkbox" name="site" value="site:yna.co.kr"> ì—°í•©ë‰´ìŠ¤</label>
        <label><input type="checkbox" name="site" value="site:ktv.go.kr"> KTV êµ­ë¯¼ë°©ì†¡</label>
        <label><input type="checkbox" name="site" value="site:tongilnews.com"> í†µì¼ë‰´ìŠ¤</label>
      </details>
      <details class="category">
        <summary>ì»¤ë®¤ë‹ˆí‹°/ì½˜í…ì¸  í”Œë«í¼</summary>
        <label><input type="checkbox" name="site" value="site:pinterest.com"> Pinterest</label>
        <label><input type="checkbox" name="site" value="site:reddit.com"> Reddit</label>
        <label><input type="checkbox" name="site" value="site:dcinside.com"> DC Inside</label>
        <label><input type="checkbox" name="site" value="site:blog.naver.com"> Naver ë¸”ë¡œê·¸</label>
        <label><input type="checkbox" name="site" value="site:cafe.naver.com"> Naver ì¹´í˜</label>
        <label><input type="checkbox" name="site" value="site:cafe.daum.net"> Daum ì¹´í˜</label>
        <label><input type="checkbox" name="site" value="site:brunch.co.kr"> ë¸ŒëŸ°ì¹˜</label>
      </details>
    </div>

    <label>ì§ì ‘ ì…ë ¥ (ì‰¼í‘œë¡œ êµ¬ë¶„):</label>
    <input type="text" id="site-manual" placeholder="ì˜ˆ: google.com, wikipedia.org">

    <label>ì‹œì‘ ë‚ ì§œ (after):</label>
    <input type="date" id="after">

    <label>ì¢…ë£Œ ë‚ ì§œ (before):</label>
    <input type="date" id="before">

    <button onclick="generateQuery()">ê²€ìƒ‰ ë§í¬ ìƒì„±</button>

    <h3>ğŸ”— ìƒì„±ëœ ê²€ìƒ‰ URL:</h3>
    <p id="result"></p>
  </div>

  <script>
    function generateQuery() {
      const keyword = document.getElementById("keyword").value.trim();
      const intitle = document.getElementById("intitle").value.trim();
      const after = document.getElementById("after").value;
      const before = document.getElementById("before").value;

      const siteCheckboxes = document.querySelectorAll('input[name="site"]:checked');
      const siteFiltersFromCheck = Array.from(siteCheckboxes).map(cb => cb.value);

      const manualInput = document.getElementById("site-manual").value.trim();
      const siteFiltersFromManual = manualInput
        ? manualInput.split(",").map(site => "site:" + site.trim()).filter(s => s !== "site:")
        : [];

      const allSiteFilters = [...new Set([...siteFiltersFromCheck, ...siteFiltersFromManual])];

      let query = "";
      if (keyword) query += keyword + " ";
      if (intitle) query += `intitle:"${intitle}" `;
      if (allSiteFilters.length > 0) query += allSiteFilters.join(" ") + " ";
      if (after) query += `after:${after} `;
      if (before) query += `before:${before}`;

      const encodedQuery = encodeURIComponent(query.trim());
      const searchUrl = `https://www.google.com/search?q=${encodedQuery}`;

      document.getElementById("result").innerHTML = `<a href="${searchUrl}" target="_blank">${searchUrl}</a>`;
    }

    const themeSwitch = document.getElementById("theme-switch");

    function applyTheme(theme) {
      document.body.classList.toggle("dark", theme === "dark");
      localStorage.setItem("theme", theme);
      themeSwitch.checked = theme === "dark";
    }

    themeSwitch.addEventListener("change", () => {
      applyTheme(themeSwitch.checked ? "dark" : "light");
    });

    (function () {
      const saved = localStorage.getItem("theme");
      const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      const initial = saved || (prefersDark ? "dark" : "light");
      applyTheme(initial);
    })();
  </script>
</body>
</html>
